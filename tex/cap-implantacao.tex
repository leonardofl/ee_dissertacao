%% ------------------------------------------------------------------------- %%
\chapter{O processo de implantação}
\label{cap:implantacao}

A ``Especificação de implantação e configuração de aplicações distribuídas baseadas em componentes'' (DEPL~\cite{DEPL2006}) é um padrão da OMG. 
A implantação é definida pelo DEPL como um \emph{processo}, que se inicia após a aquisição de um componente, e vai até o momento em que o componente está em execução, pronto para processar chamadas. 
Embora nosso trabalho foque na implantação de serviços, os conceitos para implantação de componentes também se aplicam à implantação de serviços. No próximo capítulo discutiremos um pouco as sutis diferenças entre \emph{serviços} e \emph{componentes}.
Mas no contexto de implantação, pode-se dizer que a principal diferença seja o fato de que o \emph{implantador} do serviço seja a própria organização que o desenvolveu, enquanto que o conceito de componentes está mais ligado a um suposto mercado de componentes, em que uns desenvolvem, empacotam e publicam o componente, enquanto que outros adquirem e implantam o componente.

Quando possível, utilizaremos a terminologia estabelecida pelo DEPL em nosso trabalho.
Os principais termos definidos no DEPL e utilizados neste trabalho são os seguintes:

\begin{description}
\item [Implantador:] é a pessoa, ou organização, que é a ``dona'' do componente, e que será responsável pelo processo de implantação. Não é o software que propriamente realiza o processo de implantação.
\item [Ambiente alvo:] a máquina, ou conjunto de máquinas, onde os componentes serão implantados.
\item [Nó:] um recurso computacional onde se implanta um componente, 
como por exemplo uma máquina virtual; faz parte do ambiente alvo.
\item [Pacote:] artefato executável que contém o código binário do componente.
É através do pacote que um serviço pode ser instalado e executado em um determinado
sistema operacional. Existem pacotes dependentes de sistema operacional (ex: deb, rpm),
e pacotes independentes de sistema operacional (ex: jar, war).
\end{description}

O DEPL define ainda as seguintes fases do processo de implantação de um sistema:

\begin{description}
\item [Instalação:] o implantador transfere o componente adquirido para sua própria infraestrutura; a instalação está relacionada ao processo de aquisição do componente, e não se trata de mover o componente para o ambiente alvo, no qual será executado. Consideramos que essa fase não se aplica à implantação de serviços, pois após o desenvolvimento e empacotamento, o serviço já é de propriedade do implantador e já se encontra em sua infraestrutura.
\item [Configuração:] edição de arquivos de configuração para alterar o comportamento do software; exemplo: em vez de ter um sistema de cobrança flexível de acordo com o usuário, um serviço pode ter duas instâncias, uma que será configurada para cobrar um valor mais alto, e outra instância que será configurada para cobrar um valor mais baixo. 
\item [Planejamento:] resulta em um \emph{plano de implantação}, que mapeia como os componentes serão distribuídos pelas máquinas do ambiente alvo.  
\item [Preparação:] procedimentos no ambiente alvo para preparar a execução do componente. Envolve configurações do sistema operacional, instalação de middlewares (e.g. Tomcat), e a transferência do componente para a máquina onde será executado. 
\item [Inicialização:] é quando finalmente o componente é iniciado e entra em execução, podendo processar chamadas de seus clientes. A inicialização também inclui a ligação entre os componentes de uma composição, para que os componentes conheçam a localização dos componentes dos quais dependem.
\end{description}

Como já mencionado na introdução, profissionais da acadêmia e da indústria levantam a necessidade de se automatizar o processo de implantação, uma vez que o processo de implantação manual se torna moroso e propenso a erros, principalmente na implantação de sistemas distribuídos~\cite{Humble2011Continuous,Dolstra2005Configuration}. Nesse contexto, os praticantes normalmente discutem mais a automação das fases de preparação e implantação, que normalmente são realizadas com a escrita de scripts, com ou sem ferramentas específicas, como o Chef. Mas há também muitos trabalhos acadêmicos sobre a fase de preparação, envolvendo a escolha automática da máquina alvo de um componente baseado nos requisitos não-funcionais do componente. Por fim, a fase de configuração é menos adequada para se automatizar, pois em geral envolve escolhas que devem ser feitas por humanos.
% melhorar parágrafo acima

* Continuou delivery

* DevOps

* cloud 

* IaaS

* Imagens vs configuração

* PaaS



