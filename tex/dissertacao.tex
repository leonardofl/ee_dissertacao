% Arquivo LaTeX de exemplo de dissertação/tese a ser apresentados à CPG do IME-USP
% 
% Versão 5: Sex Mar  9 18:05:40 BRT 2012
%
% Criação: Jesús P. Mena-Chalco
% Revisão: Fabio Kon e Paulo Feofiloff
%  
% Obs: Leia previamente o texto do arquivo README.txt

\documentclass[11pt,twoside,a4paper]{book}

% ---------------------------------------------------------------------------- %
% Pacotes 
\usepackage[T1]{fontenc}
\usepackage[brazil]{babel}
\usepackage[utf8]{inputenc}
\usepackage[pdftex]{graphicx}           % usamos arquivos pdf/png como figuras
\usepackage{setspace}                   % espaçamento flexível
\usepackage{indentfirst}                % indentação do primeiro parágrafo
\usepackage{makeidx}                    % índice remissivo
\usepackage[nottoc]{tocbibind}          % acrescentamos a bibliografia/indice/conteudo no Table of Contents
\usepackage{courier}                    % usa o Adobe Courier no lugar de Computer Modern Typewriter
\usepackage{type1cm}                    % fontes realmente escaláveis
\usepackage{listings}                   % para formatar código-fonte (ex. em Java)
\usepackage{titletoc}
%\usepackage[bf,small,compact]{titlesec} % cabeçalhos dos títulos: menores e compactos
\usepackage[fixlanguage]{babelbib}
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage[a4paper,top=2.54cm,bottom=2.0cm,left=2.0cm,right=2.54cm]{geometry} % margens
%\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=black,linkcolor=black,urlcolor=black,filecolor=black,bookmarksopen=true]{hyperref} % links em preto
\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=DarkGreen,linkcolor=NavyBlue,urlcolor=DarkRed,filecolor=green,bookmarksopen=true]{hyperref} % links coloridos
\usepackage[all]{hypcap}                % soluciona o problema com o hyperref e capitulos
\usepackage[square,sort,nonamebreak,comma]{natbib}  % citação bibliográfica alpha (alpha-ime.bst)
\usepackage{xspace}
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}

% ---------------------------------------------------------------------------- %
% Cabeçalhos similares ao TAOCP de Donald E. Knuth
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\MakeUppercase{#1}}{}}
\renewcommand{\headrulewidth}{0pt}

% ---------------------------------------------------------------------------- %
\graphicspath{{./figuras/}}             % caminho das figuras (recomendável)
\frenchspacing                          % arruma o espaço: id est (i.e.) e exempli gratia (e.g.) 
\urlstyle{same}                         % URL com o mesmo estilo do texto e não mono-spaced
\makeindex                              % para o índice remissivo
\raggedbottom                           % para não permitir espaços extra no texto
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\cleardoublepage
\normalsize

% ---------------------------------------------------------------------------- %
% Opções de listing usados para o código fonte
% Ref: http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
\lstset{ %
language=Java,                  % choose the language of the code
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,	                % adds a frame around the code
framerule=0.6pt,
tabsize=2,	                    % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},         % if you want to add a comment within your code
backgroundcolor=\color[rgb]{1.0,1.0,1.0}, % choose the background color.
rulecolor=\color[rgb]{0.8,0.8,0.8},
extendedchars=true,
xleftmargin=10pt,
xrightmargin=10pt,
framexleftmargin=10pt,
framexrightmargin=10pt
}

% ---------------------------------------------------------------------------- %
% Macros for proof-reading
\usepackage{color}
\usepackage{xcolor}
\usepackage[normalem]{ulem} % for \sout
\newcommand{\ugh}[1]{\textcolor{red}{\uwave{#1}}} % please rephrase
\newcommand{\ins}[1]{\textcolor{blue}{\uline{#1}}} % please insert
\newcommand{\del}[1]{\textcolor{red}{\sout{#1}}} % please delete
\newcommand{\chg}[2]{\textcolor{red}{\sout{#1}}{$\rightarrow$}\textcolor{blue}{\uline{#2}}} % please change

% Put edit comments in a really ugly standout display
\usepackage{ifthen}
\usepackage{amssymb}
\newboolean{showcomments}
\setboolean{showcomments}{true} % toggle to show or hide comments
\ifthenelse{\boolean{showcomments}}
  {\newcommand{\nb}[2]{
    \fcolorbox{gray}{yellow}{\bfseries\sffamily\scriptsize#1}
    {\sf\small$\blacktriangleright$\textit{#2}$\blacktriangleleft$}
   }
   \newcommand{\version}{\emph{\scriptsize$-$working$-$}}
  }
  {\newcommand{\nb}[2]{}
   \newcommand{\version}{}
  }

% General comment
\newcommand\info[1]{\nb{Info}{#1}}
\newcommand\todo[1]{\nb{ToDo}{#1}}

% Single author comment
\newcommand\Gerosa[1]{\nb{Gerosa}{#1}}
\newcommand\Fabio[1]{\nb{Fabio}{#1}}
\newcommand\Leo[1]{\nb{Leo}{#1}}
\newcommand\gerosa[1]{\nb{Gerosa}{#1}}
\newcommand\fabio[1]{\nb{Fabio}{#1}}
\newcommand\leo[1]{\nb{Leo}{#1}}

% Macros
\newcommand{\ee}{Enactment Engine\xspace}
\newcommand{\eecomp}{Choreography Deployer\xspace}
\newcommand{\dm}{Deployment Manager\xspace}
\newcommand{\choreos}{CHOReOS\xspace}
\newcommand{\userguide}{CHOReOS Enactment Engine User Guide\xspace}

% table macros
\newcommand{\tcell}[2][c]{%
  \begin{tabular}[#1]{@{}c@{}}#2\end{tabular}}
\newcommand{\bigcell}[2]{\multicolumn{3}{#1}{\footnotesize #2}}

% ---------------------------------------------------------------------------- %
%
% Boxed environment with semi-transparent shadow.
%

\usepackage{tikz}
\usepackage{calc}

\newlength{\boxw}
\newlength{\boxh}
\newlength{\shadowsize}
\newlength{\boxroundness}
\newlength{\tmpa}
\newsavebox{\shadowblockbox}

\setlength{\shadowsize}{6pt}
\setlength{\boxroundness}{3pt}

\newenvironment{shadowblock}[1]%
{\begin{lrbox}{\shadowblockbox}\begin{minipage}{#1}}%
{\end{minipage}\end{lrbox}%
\settowidth{\boxw}{\usebox{\shadowblockbox}}%
\settodepth{\tmpa}{\usebox{\shadowblockbox}}%
\settoheight{\boxh}{\usebox{\shadowblockbox}}%
\addtolength{\boxh}{\tmpa}%
\begin{tikzpicture}
\addtolength{\boxw}{\boxroundness * 2}
\addtolength{\boxh}{\boxroundness * 2}

\foreach \x in {0,.05,...,1}
{
\setlength{\tmpa}{\shadowsize * \real{\x}}
\fill[xshift=\shadowsize - 1pt,yshift=-\shadowsize +
1pt,black,opacity=.04,rounded corners=\boxroundness]
(\tmpa, \tmpa) rectangle +(\boxw - \tmpa - \tmpa, \boxh - \tmpa -
\tmpa);
}

\filldraw[fill=white!50, draw=black!50, rounded corners=\boxroundness] (0,
0) rectangle (\boxw, \boxh);
\draw node[xshift=\boxroundness,yshift=\boxroundness,inner sep=0pt,outer
sep=0pt,anchor=south west] (0,0) {\usebox{\shadowblockbox}};
\end{tikzpicture}}




% ---------------------------------------------------------------------------- %
% Corpo do texto
\begin{document}
\frontmatter 
% cabeçalho para as páginas das seções anteriores ao capítulo 1 (frontmatter)
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}
\setcounter{tocdepth}{2}
\fancyhead[LE]{\thepage\hspace{2em}\footnotesize{\leftmark}}
\fancyhead[RE,LO]{}
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}

\onehalfspacing  % espaçamento

% ---------------------------------------------------------------------------- %
% CAPA
% Nota: O título para as dissertações/teses do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
\thispagestyle{empty}
\begin{center}
    \vspace*{2.3cm}
    \textbf{\Large{Implantação automatizada de composições \\
    de serviços web de grande escala}}\\
    
    \vspace*{1.2cm}
    \Large{Leonardo Alexandre Ferreira Leite}
    
    \vskip 2cm
    \textsc{
    Dissertação apresentada\\[-0.25cm] 
    ao\\[-0.25cm]
    Instituto de Matemática e Estatística\\[-0.25cm]
    da\\[-0.25cm]
    Universidade de São Paulo\\[-0.25cm]
    para\\[-0.25cm]
    a obtenção do título\\[-0.25cm]
    de\\[-0.25cm]
    mestre em Ciência da Computação}
    
    \vskip 1.5cm
    %Programa: Nome do Programa\\
    Orientador: Prof. Dr. Marco Aurélio Gerosa\\

   	\vskip 1cm
    \normalsize{Durante o desenvolvimento deste trabalho o autor recebeu auxílio
    financeiro pelo projeto CHOReOS, financiado pela Comissão Europeia, e pelo projeto Baile, financiado pela HP Brasil.}
    
    \vskip 0.5cm
    \normalsize{São Paulo, \todo{MÊS} de 2014}
\end{center}

% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO DEPOSITADA - ANTES DA DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas
%   desta página antes de compilar a versão
%   final, corrigida, do trabalho
%
%
\newpage
\thispagestyle{empty}
    \begin{center}
        \vspace*{2.3 cm}
        \textbf{\Large{Implantação automatizada de composições \\
    de serviços web de grande escala}}\\
        \vspace*{2 cm}
    \end{center}

    \vskip 2cm

    \begin{flushright}
    Esta é a versão original da dissertação elaborada \\
    pelo candidato Leonardo Alexandre Ferreira Leite, \\
    tal como submetida à Comissão Julgadora. \\
    \end{flushright}

\pagebreak


% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO CORRIGIDA - APÓS DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% Nota: O título para as dissertações/teses do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas desta
%   página antes de compilar a versão do trabalho que será entregue
%   à Comissão Julgadora antes da defesa
%
%
%\newpage
%\thispagestyle{empty}
%    \begin{center}
%        \vspace*{2.3 cm}
%        \textbf{\Large{Título do trabalho a ser apresentado à \\
%        CPG para a dissertação/tese}}\\
%        \vspace*{2 cm}
%    \end{center}
%
%    \vskip 2cm
%
%    \begin{flushright}
%	Esta versão da dissertação/tese contém as correções e alterações sugeridas\\
%	pela Comissão Julgadora durante a defesa da versão original do trabalho,\\
%	realizada em 14/12/2010. Uma cópia da versão original está disponível no\\
%	Instituto de Matemática e Estatística da Universidade de São Paulo.
%
%    \vskip 2cm
%
%    \end{flushright}
%    \vskip 4.2cm
%
%    \begin{quote}
%    \noindent Comissão Julgadora:
%    
%    \begin{itemize}
%		\item Profª. Drª. Nome Completo (orientadora) - IME-USP [sem ponto final]
%		\item Prof. Dr. Nome Completo - IME-USP [sem ponto final]
%		\item Prof. Dr. Nome Completo - IMPA [sem ponto final]
%    \end{itemize}
%      
%    \end{quote}
%\pagebreak


\pagenumbering{roman}     % começamos a numerar 

% ---------------------------------------------------------------------------- %
% Agradecimentos:
% Se o candidato não quer fazer agradecimentos, deve simplesmente eliminar esta página 

\chapter*{Agradecimentos}

Valeu galera \verb!\o/!

% Gerosa, Fabio, 
% Thiago, Nelson!, Cadu
% Cuckie, Felps, Alfonso, Tiago Culluci
% Daniel Cordeiro
% Gustavo, Guilherme
% Hideo, Paulo Moura, Besson
% Emílio, Valentin
% Daniel Batista, Alfredo
% Maurício De Diana!, Gleicon
% overseas?
% Lari :)

% ---------------------------------------------------------------------------- %
% Resumo
\chapter*{Resumo}

%\noindent LEITE, L. A. F. \textbf{Implantação automatizada de coreografias de serviços web \\
%    de grande escala em ambientes de computação em nuvem}. 
%2013. XXX f.  \Leo{XXX = número de folhas}
%Dissertação (Mestrado) - Instituto de Matemática e Estatística,
%Universidade de São Paulo, São Paulo, 2013.
%\\

%Elemento obrigatório, constituído de uma sequência de frases concisas e
%objetivas, em forma de texto.  Deve apresentar os objetivos, métodos empregados,
%resultados e conclusões.  O resumo deve ser redigido em parágrafo único, conter
%no máximo 500 palavras e ser seguido dos termos representativos do conteúdo do
%trabalho (palavras-chave). 

A implantação de composições de serviços web de grande escala apresentam vários desafios,
tais como falhas corriqueiras na infraestrutura, 
heterogeneidade tecnológica dos componentes operados, 
distribuição do sistema por diferentes organizações
e atualização frequente dos serviços em operação.
Nesta dissertação, estudamos como a implantação automatizada baseada em middleware
pode auxiliar na superação de tais desafios.
Para isso, desenvolvemos o CHOReOS Enactment Engine, um sistema de middleware que possibilita a implantação distribuída e automatizada de composições de serviços web em uma infraestrutura virtualizada, operando no modelo de computação em nuvem denominado Plataforma como um Serviço. O middleware desenvolvido é avaliado qualitativamente em comparação a abordagens de implantação \emph{ad-hoc} e quantitativamente pela sua escalabilidade em relação ao tempo de implantação das composições de serviços. \\

\noindent \textbf{Palavras-chave:} implantação de software, coreografias, serviços web, computação em nuvem, grande escala.

% ---------------------------------------------------------------------------- %
% Abstract
\chapter*{Abstract}
%\noindent LEITE, L. A. F. \textbf{Automated deployment of large scale web service choreographies in cloud computing environments}. 
%2013. XXX f. \Leo{XXX = número de folhas}
%Master thesis - Institute of Mathematics and Statistics,
%University of Sao Paulo, Brazil, 2013.
%\\

%Elemento obrigatório, elaborado com as mesmas características do resumo em
%língua portuguesa. De acordo com o Regimento da Pós- Graduação da USP (Artigo
%99), deve ser redigido em inglês para fins de divulgação. 

Automated deployment is mandatory in the life cycle of large-scale systems. However, some organizations still deploy their system manually, what is time-consuming, error-prone, and no-reproducible. These problems are even worse in distributed deployment, as occurs with web service choreographies, that implement distributed business process among many organizations. The deployment of a choreography must be coordinated, since their services need to retrieve the endpoints of other participant services, and these endpoints may be available only at deployment time. Large scale choreographies are maintained by multiple organizations in a distributed way, and in such scenario communication faults are commonplace. Considering the virtualization advantages in environment management,  the increasing use of cloud computing by organizations, and large scale system requirements, we exploit cloud computing in web service choreography deployment. This is achieved by means of the development of the CHOReOS Enactment Engine, a middleware system that enables the automated and distributed deployment of web service choreographies, operating as a cloud computing provider in the Platform as a Service layer. Our middleware is assessed by its scalability regarding choreography deployment time, for which the amount of services to be deployed is the system load, whereas the amount of available virtual machines are the system resources. The current Enactment Engine implementation was assessed regarding its scalability, and we observed an increase about only twice when the number of services was increased by 50 times, and the resources were increased in the same proportion than the load. We consider this preliminary result very satisfactory.
\\

\noindent \textbf{Keywords:} software deployment, choreography, web services, cloud computing, large scale.

% ---------------------------------------------------------------------------- %
% Sumário
\tableofcontents    % imprime o sumário

% ---------------------------------------------------------------------------- %
\chapter{Lista de Abreviaturas}
\begin{tabular}{ll}
         2PC & Two Phase Commit \\
         ADL & Architectural Description Language \\
         ACID & Atomicity, Consistency, Isolation, Durability \\
         API & Application Programming Interface \\
         AWS & Amazon Web Services \\
         BPEL & Business Process Execution Language \\
         BPMN & Business Process Modeling Notation \\
         CAP & Consistency, Availability, Partitioning \\
         CORBA & Common Object Request Broker Architecture \\
         EC2 & Elastic Compute Cloud \\
         GNU & GNU is not Unix \\
         HTTP & Hyper Text Transfer Protocol \\
         IaaS & Infrastructure as a Service \\
         J2EE & Java Enterprise Edition \\
         JDK & Java Development Kit \\
         JMS & Java Message Service \\
         JVM & Java Virtual Machine \\
%         LGPL & GNU Lesser General Public License \\
         LoC & Lines of code \\
         MIL & Module Description Language \\
         MIME & Multipurpose Internet Mail Extensions \\
		 MPL & Mozilla Public License \\
         NIST & The National Institute of Standards and Technology \\
         PaaS & Platform as a Service \\
         REST &  Representational State Transfer \\
         SaaS & Software as a Service \\
         SOA & Service Oriented Architecture \\
         TDD & Test Driven Development \\
         UDDI & Universal Description Discovery and Integration \\
         URI & Uniform Resource Identifier \\
         URL & Uniform Resource Locator \\
         XML & Extensible Markup Language \\
         W3C & World Wide Web Consortium \\
         WADL & Web Application Description Language \\
         WS-CDL & Web Services Choreography Description Language \\
         WSCI & Web Service Choreography Interface  \\
         WSDL & Web Service Description Language \\
\end{tabular}

% ---------------------------------------------------------------------------- %
%\chapter{Lista de Símbolos}
%\begin{tabular}{ll}
%        $\omega$    & Frequência angular\\
%        $\psi$      & Função de análise \emph{wavelet}\\
%        $\Psi$      & Transformada de Fourier de $\psi$\\
%\end{tabular}

% ---------------------------------------------------------------------------- %
% Listas de figuras e tabelas criadas automaticamente
\listoffigures            
\listoftables            

% ---------------------------------------------------------------------------- %
% Capítulos do trabalho
\mainmatter

% cabeçalho para as páginas de todos os capítulos
\fancyhead[RE,LO]{\thesection}

\singlespacing              % espaçamento simples
%\onehalfspacing            % espaçamento um e meio

\input cap-introducao        % associado ao arquivo: 'cap-introducao.tex'
\input cap-conceitos         
\input cap-relacionados
\input cap-solucao
\input cap-avaliacao
\input cap-conclusoes

% cabeçalho para os apêndices
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\appendixname\ \thechapter}} {\MakeUppercase{#1}} }
\fancyhead[RE,LO]{}

\appendix
\include{ape-user-manual}      % associado ao arquivo: 'ape-xml.tex'

% ---------------------------------------------------------------------------- %
% Bibliografia
\backmatter \singlespacing   % espaçamento simples
\bibliographystyle{alpha-ime}% citação bibliográfica alpha
\bibliography{bibliografia}  % associado ao arquivo: 'bibliografia.bib'

% ---------------------------------------------------------------------------- %
% Índice remissivo
%\index{TBP|see{periodicidade região codificante}}
%\index{DSP|see{processamento digital de sinais}}
%\index{STFT|see{transformada de Fourier de tempo reduzido}}
%\index{DFT|see{transformada discreta de Fourier}}
%\index{Fourier!transformada|see{transformada de Fourier}}
%
%\printindex   % imprime o índice remissivo no documento 


\end{document}
